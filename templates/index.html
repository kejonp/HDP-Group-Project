<!--Copyright 2024 Group 2 AI Course MIE212401 Final Project

    Licensed by Jules
    you may not use this file for public use except in compliance with the license.
    you may obtain a copy of the license at

    julianrafi@gmail.com

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<!-- Author: Cindy Prilia (cindyprilia04@gmail.com)-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Health Care Fuzzy System</title>
    <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">
</head>
<body>
    <form action="/result" method="post">
        <div class="app">
            <span class="blur"></span>
            <span class="blur"></span>
            <h1>Health Care Related Questions</h1>
            <div class="question-container" id="question1">
                <h2>What is your sex?</h2>
                <input type="radio" id="sex_male" name="sex" value="0">
                <label for="sex_male" id="male-label" class="sex-label" style="cursor: pointer" onclick="sex('male')">Male</label>
                <input type="radio" id="sex_female" name="sex" value="1">
                <label for="sex_female" id="female-label" class="sex-label" style="cursor: pointer" onclick="sex('female')">Female</label>
            
                <button class="nextButton1" type="button" onclick="nextQuestion()">Next</button>
            </div>

            <div class="question-container" id="question2">
                <h2>On a scale of 1 to 4, how much does your chest hurt?</h2>
                <input type="range" id="chest_pain" name="chest_pain" min="1" max="4" value="1" oninput="chest_pain_value.value = this.value">
                <output id="chest_pain_value">1</output>
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button class="questionButton" onclick="nextQuestion()">Next</button>
            </div>

            <div class="question-container" id="question3">
                <h2 id="question">What were your recent cholesterol test results?</h2>
                <input type="number" id="cholesterol" name="cholesterol" min="0" max="600" value="0" oninput="cholesterol_value.value = this.value">
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button class="nextButton" onclick="nextQuestion()">Next</button>
            </div>

            <div class="question-container" id="question4">
                <h2 id="question">Do you casually exercise?</h2>
                <input type="radio" id="exercise_no" name="exercise" value="0">
                <label for="exercise_no" id="no-label" class="exercise-label" style="cursor: pointer" onclick="exercise('no')">No</label>
                <input type="radio" id="exercise_yes" name="exercise" value="1">
                <label for="exercise_yes" id="yes-label" class="exercise-label" style="cursor: pointer" onclick="exercise('yes')">Yes</label>
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button class="nextButton" onclick="nextQuestion()">Next</button>
            </div>

            <div class="question-container" id="question5">
                <h2 id="age">What is your age?</h2>
                <input type="number" id="age" name="age" value="1" min="1" max="100" oninput="age_value.value = this.value">
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button class="nextButton" onclick="nextQuestion()">Next</button>
            </div>

            
            <div class="question-container" id="question7">
                <h2 id="question">What were your most recent readings of your blood sugar?</h2>
                <input type="number" id="blood_sugar" name="blood_sugar" min="0" max="200" value="0" oninput="blood_sugar_value.value = this.value">
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button class="nextButton" onclick="nextQuestion()">Next</button>
            </div>
            
            <div class="question-container" id="question6">
                <h2 id="question">What is your average resting heart rate?</h2>
                <input type="number" id="heart_rate" name="heart_rate" min="0" max="200" value="0" oninput="heart_rate_value.value = this.value"> bpm
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button class="nextButton" onclick="nextQuestion()">Next</button>
            </div>
            <div class="question-container" id="question8">
                <h2 id="question">What were your most recent readings of your blood pressure?</h2>
                Systolic <input type="number" id="systolic" name="systolic" min="50" max="400" value="0" oninput="systolic_value.value = this.value">mm Hg
                <br>
                Diastolic <input type="number" id="diastolic" name="diastolic" min="50" max="200" value="0" oninput="diastolic_value.value = this.value">mm Hg
                <button class="previousButton" type="button" onclick="previousQuestion()">Previous</button>
                <button type="submit" id="submitButton" style="display: none;" value="Show Result">Submit</button>
            </div>
        </div>
    </form>
</body>
<script>
    let currentQuestion = 1;
    document.getElementById('question' + currentQuestion).style.display = 'block';

    function showSubmitButton(){
        var questions = document.querySelectorAll('.question-container');
        var lastQuestion = questions[questions.length - 1];
        var submitButton = document.getElementById('submitButton');

        if(lastQuestion.style.display !== 'none'){
            submitButton.style.display = 'block';
        } else{
            submitButton.style.display = 'none';
        }
    }

    function nextQuestion() {
        document.getElementById('question' + currentQuestion).style.display = 'none';
        currentQuestion++;
        if (document.getElementById('question' + currentQuestion)) {
            document.getElementById('question' + currentQuestion).style.display = 'block';
        } else {
            document.getElementById('submitButton').style.display = 'block';
        }
        showSubmitButton();
    }

    function previousQuestion(){
        if(currentQuestion > 1){
            document.getElementById('question' + currentQuestion).style.display = 'none';
            currentQuestion--;
            document.getElementById('question' + currentQuestion).style.display = 'block';
            showSubmitButton
        }
    }

</script>
</html>